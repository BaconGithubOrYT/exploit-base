wait()

local Players = game:GetService("Players")
local Player = Players.LocalPlayer

if Player.PlayerGui:FindFirstChild("FogExploit") then
	Player.PlayerGui:FindFirstChild("FogExploit"):Destroy()
end

local NewGUI = Instance.new("ScreenGui")
NewGUI.Name = "FogExploit"
NewGUI.Parent = Player.PlayerGui

local MainFrame = Instance.new("Frame", NewGUI)
MainFrame.Name = "Main"
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
MainFrame.Size = UDim2.new(0.3, 0, 0.5, 0)
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.BackgroundTransparency = 0.8
MainFrame.BackgroundColor3 = Color3.new(0,0,0)

local UIStroke = Instance.new("UIStroke")
UIStroke.Parent = MainFrame
UIStroke.Color = Color3.new(1,1,1)
UIStroke.Thickness = 2
local UIStrokeGradient = Instance.new("UIGradient")
UIStrokeGradient.Color = ColorSequence.new({ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)), ColorSequenceKeypoint.new(0.111, Color3.fromRGB(255, 140, 0)), ColorSequenceKeypoint.new(0.222, Color3.fromRGB(255, 140, 0)), ColorSequenceKeypoint.new(0.333, Color3.fromRGB(255, 255, 0)), ColorSequenceKeypoint.new(0.444, Color3.fromRGB(0, 255, 0)), ColorSequence.new(0.555, Color3.fromRGB(0, 255, 255)), ColorSequence.new(0.666, Color3.fromRGB(0, 0, 255)), ColorSequence.new(0.777, Color3.fromRGB(120, 0, 255))})

task.spawn(function()
	while wait() do
	UIStrokeGradient.Rotation -= 1
	end
end)

local FogFrame = Instance.new("Frame", MainFrame)
FogFrame.Name = "Source"
FogFrame.AnchorPoint = Vector2.new(0.5, 0.5)
FogFrame.Position = UDim2.new(0.5, 0, 0.2, 0)
FogFrame.Size = UDim2.new(1.4, 0, 0.3, 0)
FogFrame.BackgroundTransparency = 1
FogFrame.BackgroundColor3 = Color3.new(0,0,0)
local UIListLayout = Instance.new("UIListLayout", FogFrame)
UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
UIListLayout.Padding = UDim.new(.1, 0)

local FogButtonOn =Instance.new("TextButton", FogFrame)
FogButtonOn.Text = "Fog Disable"
FogButtonOn.Size = UDim2.new(0.6, 0, 0.4, 0)
FogButtonOn.BackgroundColor3 = Color3.new(0, 1, 0)
FogButtonOn.TextScaled = true
FogButtonOn.Font = Enum.Font.SciFi
FogButtonOn.MouseButton1Click:Connect(function()
	if game.Lighting:FindFirstChild("Atmosphere") then
		game.Lighting:FindFirstChild("Atmosphere"):Destroy()
	end
	game.Lighting.FogEnd = 100000
end)

local DayButtonOn =Instance.new("TextButton", FogFrame)
DayButtonOn.Text = "Day"
DayButtonOn.Size = UDim2.new(0.6, 0, 0.4, 0)
DayButtonOn.BackgroundColor3 = Color3.new(0, 0, 1)
DayButtonOn.TextScaled = true
DayButtonOn.Font = Enum.Font.SciFi
DayButtonOn.MouseButton1Click:Connect(function()
	game.Lighting.ClockTime = 14
end) 

local NightButtonOn =Instance.new("TextButton", FogFrame)
NightButtonOn.Text = "Night"
NightButtonOn.Size = UDim2.new(0.6, 0, 0.4, 0)
NightButtonOn.BackgroundColor3 = Color3.new(1, 0, 0)
NightButtonOn.TextScaled = true
NightButtonOn.Font = Enum.Font.SciFi
NightButtonOn.MouseButton1Click:Connect(function()
	game.Lighting.ClockTime = 0
end) 

local ReturnButtonOn =Instance.new("TextButton", FogFrame)
ReturnButtonOn.Text = "Return Clocktime"
ReturnButtonOn.Size = UDim2.new(0.6, 0, 0.4, 0)
ReturnButtonOn.BackgroundColor3 = Color3.new(1, 1, 0)
ReturnButtonOn.TextScaled = true
ReturnButtonOn.Font = Enum.Font.SciFi
ReturnButtonOn.MouseButton1Click:Connect(function()
	ReturnButtonOn.Text = "Clock time:"..tostring(game.Lighting.ClockTime)
end) 

local Character = Player.Character or Player.CharacterAdded:Wait()
local HRP = Character:FindFirstChild("HumanoidRootPart")
local Light = Instance.new("PointLight")
Light.Parent = HRP
Light.Enabled = false
Light.Range = 100
Light.Brightness = 2
local LightEnabled = false

local LightButtonOn =Instance.new("TextButton", FogFrame)
LightButtonOn.Text = "Flashlight On"
LightButtonOn.Size = UDim2.new(0.6, 0, 0.4, 0)
LightButtonOn.BackgroundColor3 = Color3.new(1, 0, 1)
LightButtonOn.TextScaled = true
LightButtonOn.Font = Enum.Font.SciFi
LightButtonOn.MouseButton1Click:Connect(function()
	if LightEnabled == true then
		Light.Enabled = false
		LightEnabled = false
		LightButtonOn.Text = "Flashlight On"
	else
		Light.Enabled = true
		LightEnabled = true
		LightButtonOn.Text = "Flashlight Off"
	end
end) 

local Humanoid = Character:FindFirstChild("Humanoid")

local Running = false
local RunButtonOn =Instance.new("TextButton", FogFrame)
RunButtonOn.Text = "Run"
RunButtonOn.Size = UDim2.new(0.6, 0, 0.4, 0)
RunButtonOn.BackgroundColor3 = Color3.new(1, 1, 1)
RunButtonOn.TextScaled = true
RunButtonOn.Font = Enum.Font.SciFi
RunButtonOn.MouseButton1Click:Connect(function()
	if Running == true then
		Running = false
		RunButtonOn.Text = "Run"
		Humanoid.WalkSpeed = 16
	else
		Running = true
		RunButtonOn.Text = "Walk"
		Humanoid.WalkSpeed = 32
	end
end) 
